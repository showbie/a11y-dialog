/*! a11y-dialog 7.3.0 — © Kitty Giraudel */
var e,t,r,n=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"])','input[type="radio"]:not([disabled]):not([tabindex^="-"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','iframe:not([tabindex^="-"])','audio[controls]:not([tabindex^="-"])','video[controls]:not([tabindex^="-"])','[contenteditable]:not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])'];
/*! http://mths.be/startswith v0.2.0 by @mathias */String.prototype.startsWith||(e=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}(),t={}.toString,r=function(e){if(null==this)throw TypeError();var r=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var n=r.length,i=String(e),s=i.length,o=arguments.length>1?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var u=Math.min(Math.max(a,0),n);if(s+u>n)return!1;for(var c=-1;++c<s;)if(r.charCodeAt(u+c)!=i.charCodeAt(c))return!1;return!0},e?e(String.prototype,"startsWith",{value:r,configurable:!0,writable:!0}):String.prototype.startsWith=r)
/*! http://mths.be/endswith v0.2.0 by @mathias */,String.prototype.endsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}(),t={}.toString,r=function(e){if(null==this)throw TypeError();var r=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var n=r.length,i=String(e),s=i.length,o=n;if(arguments.length>1){var a=arguments[1];void 0!==a&&(o=a?Number(a):0)!=o&&(o=0)}var u=Math.min(Math.max(o,0),n),c=u-s;if(c<0)return!1;for(var l=-1;++l<s;)if(r.charCodeAt(c+l)!=i.charCodeAt(l))return!1;return!0};e?e(String.prototype,"endsWith",{value:r,configurable:!0,writable:!0}):String.prototype.endsWith=r}()
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/;var i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var u=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,u=arguments,c=a(e),l=1;l<arguments.length;l++){for(var h in r=Object(u[l]))s.call(r,h)&&(c[h]=r[h]);if(i){n=i(r);for(var f=0;f<n.length;f++)o.call(r,n[f])&&(c[n[f]]=r[n[f]])}}return c},c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var f=function(e,t){for(var r=-1,n=[];-1!==(r=e.indexOf(t,r+1));)n.push(r);return n};var p=function(e,t,r){return 0===e.length?e:t?(r||e.sort(t),function(e,t){for(var r=1,n=e.length,i=e[0],s=e[0],o=1;o<n;++o)if(s=i,t(i=e[o],s)){if(o===r){r++;continue}e[r++]=i}return e.length=r,e}(e,t)):(r||e.sort(),function(e){for(var t=1,r=e.length,n=e[0],i=e[0],s=1;s<r;++s,i=n)if(i=n,(n=e[s])!==i){if(s===t){t++;continue}e[t++]=n}return e.length=t,e}(e))},d=h((function(e,t){t.__esModule=!0,t.default=function(e){return e.replace(r,(function(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}))};var r=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig");e.exports=t.default})),v=h((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=arguments,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=t[i];for(;n.length>0;){var s=n.shift();if(!e[s])return;e=e[s]}return e},e.exports=t.default})),_=h((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=arguments,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=t[i];for(;n.length>0;){var s=n.shift();e[s]||(e[s]={}),e=e[s]}},e.exports=t.default})),b=h((function(e,t){t.__esModule=!0,t.default=function(e){var t="",r=e.indexOf("/*"),n=0;for(;r>=0;){t+=e.slice(n,r);var i=e.indexOf("*/",r+2);if(i<0)return t;n=i+2,r=e.indexOf("/*",n)}return t+=e.slice(n)},e.exports=t.default})),g=h((function(e,t){t.__esModule=!0,t.stripComments=t.ensureObject=t.getProp=t.unesc=void 0;var r=o(d);t.unesc=r.default;var n=o(v);t.getProp=n.default;var i=o(_);t.ensureObject=i.default;var s=o(b);function o(e){return e&&e.__esModule?e:{default:e}}t.stripComments=s.default})),S=h((function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.__esModule=!0,t.default=void 0;var n=function e(t,r){if("object"!=typeof t||null===t)return t;var n=new t.constructor;for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];"parent"===i&&"object"===typeof s?r&&(n[i]=r):n[i]=s instanceof Array?s.map((function(t){return e(t,n)})):e(s,n)}return n},i=function(){function e(e){void 0===e&&(e={}),u(this,e),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t,i,s,o=e.prototype;return o.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},o.replaceWith=function(){var e=arguments;if(this.parent){for(var t in arguments)this.parent.insertBefore(this,e[t]);this.remove()}return this},o.next=function(){return this.parent.at(this.parent.index(this)+1)},o.prev=function(){return this.parent.at(this.parent.index(this)-1)},o.clone=function(e){void 0===e&&(e={});var t=n(this);for(var r in e)t[r]=e[r];return t},o.appendToPropertyAndEscape=function(e,t,r){this.raws||(this.raws={});var n=this[e],i=this.raws[e];this[e]=n+t,i||r!==t?this.raws[e]=(i||n)+r:delete this.raws[e]},o.setPropertyAndEscape=function(e,t,r){this.raws||(this.raws={}),this[e]=t,this.raws[e]=r},o.setPropertyWithoutEscape=function(e,t){this[e]=t,this.raws&&delete this.raws[e]},o.isAtPosition=function(e,t){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>e)&&(!(this.source.end.line<e)&&(!(this.source.start.line===e&&this.source.start.column>t)&&!(this.source.end.line===e&&this.source.end.column<t)))},o.stringifyProperty=function(e){return this.raws&&this.raws[e]||this[e]},o.valueToString=function(){return String(this.stringifyProperty("value"))},o.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},t=e,(i=[{key:"rawSpaceBefore",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===e&&(e=this.spaces&&this.spaces.before),e||""},set:function(e){(0,g.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=e}},{key:"rawSpaceAfter",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===e&&(e=this.spaces.after),e||""},set:function(e){(0,g.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=e}}])&&r(t.prototype,i),s&&r(t,s),e}();t.default=i,e.exports=t.default})),y=h((function(e,t){t.__esModule=!0,t.UNIVERSAL=t.ATTRIBUTE=t.CLASS=t.COMBINATOR=t.COMMENT=t.ID=t.NESTING=t.PSEUDO=t.ROOT=t.SELECTOR=t.STRING=t.TAG=void 0;t.TAG="tag";t.STRING="string";t.SELECTOR="selector";t.ROOT="root";t.PSEUDO="pseudo";t.NESTING="nesting";t.ID="id";t.COMMENT="comment";t.COMBINATOR="combinator";t.CLASS="class";t.ATTRIBUTE="attribute";t.UNIVERSAL="universal"})),w=h((function(e,t){t.__esModule=!0,t.default=void 0;var r,n=(r=S)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(y);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).nodes||(r.nodes=[]),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,a,c,l=n.prototype;return l.append=function(e){return e.parent=this,this.nodes.push(e),this},l.prepend=function(e){return e.parent=this,this.nodes.unshift(e),this},l.at=function(e){return this.nodes[e]},l.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},l.removeChild=function(e){var t;for(var r in e=this.index(e),this.at(e).parent=void 0,this.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this},l.removeAll=function(){var e=this.nodes,t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}n.parent=void 0}return this.nodes=[],this},l.empty=function(){return this.removeAll()},l.insertAfter=function(e,t){t.parent=this;var r,n=this.index(e);for(var i in this.nodes.splice(n+1,0,t),t.parent=this,this.indexes)n<=(r=this.indexes[i])&&(this.indexes[i]=r+1);return this},l.insertBefore=function(e,t){t.parent=this;var r,n=this.index(e);for(var i in this.nodes.splice(n,0,t),t.parent=this,this.indexes)(r=this.indexes[i])<=n&&(this.indexes[i]=r+1);return this},l._findChildAtPosition=function(e,t){var r=void 0;return this.each((function(n){if(n.atPosition){var i=n.atPosition(e,t);if(i)return r=i,!1}else if(n.isAtPosition(e,t))return r=n,!1})),r},l.atPosition=function(e,t){return this.isAtPosition(e,t)?this._findChildAtPosition(e,t)||this:void 0},l._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},u(this.source.end,this.last.source.end))},l.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var t=this.lastEach;if(this.indexes[t]=0,this.length){for(var r,n;this.indexes[t]<this.length&&(r=this.indexes[t],!1!==(n=e(this.at(r),r)));)this.indexes[t]+=1;return delete this.indexes[t],!1!==n&&void 0}},l.walk=function(e){return this.each((function(t,r){var n=e(t,r);if(!1!==n&&t.length&&(n=t.walk(e)),!1===n)return!1}))},l.walkAttributes=function(e){var t=this;return this.walk((function(r){if(r.type===i.ATTRIBUTE)return e.call(t,r)}))},l.walkClasses=function(e){var t=this;return this.walk((function(r){if(r.type===i.CLASS)return e.call(t,r)}))},l.walkCombinators=function(e){var t=this;return this.walk((function(r){if(r.type===i.COMBINATOR)return e.call(t,r)}))},l.walkComments=function(e){var t=this;return this.walk((function(r){if(r.type===i.COMMENT)return e.call(t,r)}))},l.walkIds=function(e){var t=this;return this.walk((function(r){if(r.type===i.ID)return e.call(t,r)}))},l.walkNesting=function(e){var t=this;return this.walk((function(r){if(r.type===i.NESTING)return e.call(t,r)}))},l.walkPseudos=function(e){var t=this;return this.walk((function(r){if(r.type===i.PSEUDO)return e.call(t,r)}))},l.walkTags=function(e){var t=this;return this.walk((function(r){if(r.type===i.TAG)return e.call(t,r)}))},l.walkUniversals=function(e){var t=this;return this.walk((function(r){if(r.type===i.UNIVERSAL)return e.call(t,r)}))},l.split=function(e){var t=this,r=[];return this.reduce((function(n,i,s){var o=e.call(t,i);return r.push(i),o?(n.push(r),r=[]):s===t.length-1&&n.push(r),n}),[])},l.map=function(e){return this.nodes.map(e)},l.reduce=function(e,t){return this.nodes.reduce(e,t)},l.every=function(e){return this.nodes.every(e)},l.some=function(e){return this.nodes.some(e)},l.filter=function(e){return this.nodes.filter(e)},l.sort=function(e){return this.nodes.sort(e)},l.toString=function(){return this.map(String).join("")},o=n,(a=[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}])&&s(o.prototype,a),c&&s(o,c),n}(n.default);t.default=o,e.exports=t.default})),E=h((function(e,t){var r;function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.__esModule=!0,t.default=void 0;var i=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).type=y.ROOT,r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s,o,a,u=i.prototype;return u.toString=function(){var e=this.reduce((function(e,t){return e.push(String(t)),e}),[]).join(",");return this.trailingComma?e+",":e},u.error=function(e,t){return this._error?this._error(e,t):new Error(e)},s=i,(o=[{key:"errorGenerator",set:function(e){this._error=e}}])&&n(s.prototype,o),a&&n(s,a),i}(((r=w)&&r.__esModule?r:{default:r}).default);t.default=i,e.exports=t.default})),T=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.SELECTOR,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(((r=w)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),m={}.hasOwnProperty,k=/[ -,\.\/:-@\[-\^`\{-~]/,O=/[ -,\.\/:-@\[\]\^`\{-~]/,P=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,I=function e(t,r){"single"!=(r=function(e,t){if(!e)return t;var r={};for(var n in t)r[n]=m.call(e,n)?e[n]:t[n];return r}(r,e.options)).quotes&&"double"!=r.quotes&&(r.quotes="single");for(var n="double"==r.quotes?'"':"'",i=r.isIdentifier,s=t.charAt(0),o="",a=0,u=t.length;a<u;){var c=t.charAt(a++),l=c.charCodeAt(),h=void 0;if(l<32||l>126){if(l>=55296&&l<=56319&&a<u){var f=t.charCodeAt(a++);56320==(64512&f)?l=((1023&l)<<10)+(1023&f)+65536:a--}h="\\"+l.toString(16).toUpperCase()+" "}else h=r.escapeEverything?k.test(c)?"\\"+c:"\\"+l.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?"\\"+l.toString(16).toUpperCase()+" ":"\\"==c||!i&&('"'==c&&n==c||"'"==c&&n==c)||i&&O.test(c)?"\\"+c:c;o+=h}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(s)&&(o="\\3"+s+" "+o.slice(1))),o=o.replace(P,(function(e,t,r){return t&&t.length%2?e:(t||"")+r})),!i&&r.wrap?n+o+n:o};I.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},I.version="3.0.0";var L=I,x=h((function(e,t){t.__esModule=!0,t.default=void 0;var r=n(L);function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(e){var t,n,s,o,a;function u(t){var r;return(r=e.call(this,t)||this).type=y.CLASS,r._constructed=!0,r}return n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,u.prototype.valueToString=function(){return"."+e.prototype.valueToString.call(this)},s=u,(o=[{key:"value",set:function(e){if(this._constructed){var t=(0,r.default)(e,{isIdentifier:!0});t!==e?((0,g.ensureObject)(this,"raws"),this.raws.value=t):this.raws&&delete this.raws.value}this._value=e},get:function(){return this._value}}])&&i(s.prototype,o),a&&i(s,a),u}(n(S).default);t.default=s,e.exports=t.default})),D=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.COMMENT,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(((r=S)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),A=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.ID,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},n}(((r=S)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),M=h((function(e,t){t.__esModule=!0,t.default=void 0;var r=n(L);function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,a,u,c=s.prototype;return c.qualifiedName=function(e){return this.namespace?this.namespaceString+"|"+e:e},c.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},o=s,(a=[{key:"namespace",get:function(){return this._namespace},set:function(e){if(!0===e||"*"===e||"&"===e)return this._namespace=e,void(this.raws&&delete this.raws.namespace);var t=(0,r.default)(e,{isIdentifier:!0});this._namespace=e,t!==e?((0,g.ensureObject)(this,"raws"),this.raws.namespace=t):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(e){this.namespace=e}},{key:"namespaceString",get:function(){if(this.namespace){var e=this.stringifyProperty("namespace");return!0===e?"":e}return""}}])&&i(o.prototype,a),u&&i(o,u),s}(n(S).default);t.default=s,e.exports=t.default})),F=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.TAG,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(((r=M)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),N=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.STRING,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(((r=S)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),C=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.PSEUDO,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.toString=function(){var e=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),e,this.rawSpaceAfter].join("")},n}(((r=w)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),j=function(e,t){if(R("noDeprecation"))return e;var r=!1;return function(){if(!r){if(R("throwDeprecation"))throw new Error(t);R("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}};function R(e){try{if(!c.localStorage)return!1}catch(e){return!1}var t=c.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}var q=h((function(e,t){t.__esModule=!0,t.unescapeValue=p,t.default=void 0;var r,n=o(L),i=o(d),s=o(M);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=/^('|")(.*)\1$/,l=j((function(){}),"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),h=j((function(){}),"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),f=j((function(){}),"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function p(e){var t=!1,r=null,n=e,s=n.match(c);return s&&(r=s[1],n=s[2]),(n=(0,i.default)(n))!==e&&(t=!0),{deprecatedUsage:t,unescaped:n,quoteMark:r}}var v=function(e){var t,r;function i(t){var r;return void 0===t&&(t={}),(r=e.call(this,function(e){if(void 0!==e.quoteMark)return e;if(void 0===e.value)return e;f();var t=p(e.value),r=t.quoteMark,n=t.unescaped;return e.raws||(e.raws={}),void 0===e.raws.value&&(e.raws.value=e.value),e.value=n,e.quoteMark=r,e}(t))||this).type=y.ATTRIBUTE,r.raws=r.raws||{},Object.defineProperty(r.raws,"unquoted",{get:j((function(){return r.value}),"attr.raws.unquoted is deprecated. Call attr.value instead."),set:j((function(){return r.value}),"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),r._constructed=!0,r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s,o,c,d=i.prototype;return d.getQuotedValue=function(e){void 0===e&&(e={});var t=this._determineQuoteMark(e),r=_[t];return(0,n.default)(this._value,r)},d._determineQuoteMark=function(e){return e.smart?this.smartQuoteMark(e):this.preferredQuoteMark(e)},d.setValue=function(e,t){void 0===t&&(t={}),this._value=e,this._quoteMark=this._determineQuoteMark(t),this._syncRawValue()},d.smartQuoteMark=function(e){var t=this.value,r=t.replace(/[^']/g,"").length,s=t.replace(/[^"]/g,"").length;if(r+s===0){var o=(0,n.default)(t,{isIdentifier:!0});if(o===t)return i.NO_QUOTE;var a=this.preferredQuoteMark(e);if(a===i.NO_QUOTE){var u=this.quoteMark||e.quoteMark||i.DOUBLE_QUOTE,c=_[u];if((0,n.default)(t,c).length<o.length)return u}return a}return s===r?this.preferredQuoteMark(e):s<r?i.DOUBLE_QUOTE:i.SINGLE_QUOTE},d.preferredQuoteMark=function(e){var t=e.preferCurrentQuoteMark?this.quoteMark:e.quoteMark;return void 0===t&&(t=e.preferCurrentQuoteMark?e.quoteMark:this.quoteMark),void 0===t&&(t=i.DOUBLE_QUOTE),t},d._syncRawValue=function(){var e=(0,n.default)(this._value,_[this.quoteMark]);e===this._value?this.raws&&delete this.raws.value:this.raws.value=e},d._handleEscapes=function(e,t){if(this._constructed){var r=(0,n.default)(t,{isIdentifier:!0});r!==t?this.raws[e]=r:delete this.raws[e]}},d._spacesFor=function(e){var t=this.spaces[e]||{},r=this.raws.spaces&&this.raws.spaces[e]||{};return u({before:"",after:""},t,r)},d._stringFor=function(e,t,r){void 0===t&&(t=e),void 0===r&&(r=b);var n=this._spacesFor(t);return r(this.stringifyProperty(e),n)},d.offsetOf=function(e){var t=1,r=this._spacesFor("attribute");if(t+=r.before.length,"namespace"===e||"ns"===e)return this.namespace?t:-1;if("attributeNS"===e)return t;if(t+=this.namespaceString.length,this.namespace&&(t+=1),"attribute"===e)return t;t+=this.stringifyProperty("attribute").length,t+=r.after.length;var n=this._spacesFor("operator");t+=n.before.length;var i=this.stringifyProperty("operator");if("operator"===e)return i?t:-1;t+=i.length,t+=n.after.length;var s=this._spacesFor("value");t+=s.before.length;var o=this.stringifyProperty("value");return"value"===e?o?t:-1:(t+=o.length,t+=s.after.length,t+=this._spacesFor("insensitive").before.length,"insensitive"===e&&this.insensitive?t:-1)},d.toString=function(){var e=this,t=[this.rawSpaceBefore,"["];return t.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(t.push(this._stringFor("operator")),t.push(this._stringFor("value")),t.push(this._stringFor("insensitiveFlag","insensitive",(function(t,r){return!(t.length>0)||e.quoted||0!==r.before.length||e.spaces.value&&e.spaces.value.after||(r.before=" "),b(t,r)})))),t.push("]"),t.push(this.rawSpaceAfter),t.join("")},s=i,(o=[{key:"quoted",get:function(){var e=this.quoteMark;return"'"===e||'"'===e},set:function(e){h()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(e){this._constructed?this._quoteMark!==e&&(this._quoteMark=e,this._syncRawValue()):this._quoteMark=e}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=p(e),r=t.deprecatedUsage,n=t.unescaped,i=t.quoteMark;if(r&&l(),n===this._value&&i===this._quoteMark)return;this._value=n,this._quoteMark=i,this._syncRawValue()}else this._value=e}},{key:"attribute",get:function(){return this._attribute},set:function(e){this._handleEscapes("attribute",e),this._attribute=e}}])&&a(s.prototype,o),c&&a(s,c),i}(s.default);t.default=v,v.NO_QUOTE=null,v.SINGLE_QUOTE="'",v.DOUBLE_QUOTE='"';var _=((r={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}}).null={isIdentifier:!0},r);function b(e,t){return""+t.before+e+t.after}})),U=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.UNIVERSAL,r.value="*",r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(((r=M)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),Y=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.COMBINATOR,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(((r=S)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),B=h((function(e,t){var r;t.__esModule=!0,t.default=void 0;var n=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).type=y.NESTING,r.value="&",r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(((r=S)&&r.__esModule?r:{default:r}).default);t.default=n,e.exports=t.default})),Q=h((function(e,t){t.__esModule=!0,t.default=function(e){return e.sort((function(e,t){return e-t}))},e.exports=t.default})),G=h((function(e,t){t.__esModule=!0,t.combinator=t.word=t.comment=t.str=t.tab=t.newline=t.feed=t.cr=t.backslash=t.bang=t.slash=t.doubleQuote=t.singleQuote=t.space=t.greaterThan=t.pipe=t.equals=t.plus=t.caret=t.tilde=t.dollar=t.closeSquare=t.openSquare=t.closeParenthesis=t.openParenthesis=t.semicolon=t.colon=t.comma=t.at=t.asterisk=t.ampersand=void 0;t.ampersand=38;t.asterisk=42;t.at=64;t.comma=44;t.colon=58;t.semicolon=59;t.openParenthesis=40;t.closeParenthesis=41;t.openSquare=91;t.closeSquare=93;t.dollar=36;t.tilde=126;t.caret=94;t.plus=43;t.equals=61;t.pipe=124;t.greaterThan=62;t.space=32;t.singleQuote=39;t.doubleQuote=34;t.slash=47;t.bang=33;t.backslash=92;t.cr=13;t.feed=12;t.newline=10;t.tab=9;t.str=39;t.comment=-1;t.word=-2;t.combinator=-3})),W=h((function(e,t){t.__esModule=!0,t.default=function(e){var t,r,n,s,o,a,u,c,h,f,p,d,v,_=[],b=e.css.valueOf(),g=b.length,S=-1,y=1,w=0,E=0;function T(t,r){if(!e.safe)throw e.error("Unclosed "+t,y,w-S,w);h=(b+=r).length-1}for(;w<g;){switch((t=b.charCodeAt(w))===i.newline&&(S=w,y+=1),t){case i.space:case i.tab:case i.newline:case i.cr:case i.feed:h=w;do{h+=1,(t=b.charCodeAt(h))===i.newline&&(S=h,y+=1)}while(t===i.space||t===i.newline||t===i.tab||t===i.cr||t===i.feed);v=i.space,s=y,n=h-S-1,E=h;break;case i.plus:case i.greaterThan:case i.tilde:case i.pipe:h=w;do{h+=1,t=b.charCodeAt(h)}while(t===i.plus||t===i.greaterThan||t===i.tilde||t===i.pipe);v=i.combinator,s=y,n=w-S,E=h;break;case i.asterisk:case i.ampersand:case i.bang:case i.comma:case i.equals:case i.dollar:case i.caret:case i.openSquare:case i.closeSquare:case i.colon:case i.semicolon:case i.openParenthesis:case i.closeParenthesis:v=t,s=y,n=w-S,E=(h=w)+1;break;case i.singleQuote:case i.doubleQuote:d=t===i.singleQuote?"'":'"',h=w;do{for(o=!1,-1===(h=b.indexOf(d,h+1))&&T("quote",d),a=h;b.charCodeAt(a-1)===i.backslash;)a-=1,o=!o}while(o);v=i.str,s=y,n=w-S,E=h+1;break;default:t===i.slash&&b.charCodeAt(w+1)===i.asterisk?(0===(h=b.indexOf("*/",w+2)+1)&&T("comment","*/"),r=b.slice(w,h+1),c=r.split("\n"),(u=c.length-1)>0?(f=y+u,p=h-c[u].length):(f=y,p=S),v=i.comment,y=f,s=f,n=h-p):t===i.slash?(v=t,s=y,n=w-S,E=(h=w)+1):(h=l(b,w),v=i.word,s=y,n=h-S),E=h+1}_.push([v,y,w-S,s,n,w,E]),p&&(S=p,p=null),w=E}return _},t.FIELDS=void 0;var r,n,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(G);for(var s=((r={})[i.tab]=!0,r[i.newline]=!0,r[i.cr]=!0,r[i.feed]=!0,r),o=((n={})[i.space]=!0,n[i.tab]=!0,n[i.newline]=!0,n[i.cr]=!0,n[i.feed]=!0,n[i.ampersand]=!0,n[i.asterisk]=!0,n[i.bang]=!0,n[i.comma]=!0,n[i.colon]=!0,n[i.semicolon]=!0,n[i.openParenthesis]=!0,n[i.closeParenthesis]=!0,n[i.openSquare]=!0,n[i.closeSquare]=!0,n[i.singleQuote]=!0,n[i.doubleQuote]=!0,n[i.plus]=!0,n[i.pipe]=!0,n[i.tilde]=!0,n[i.greaterThan]=!0,n[i.equals]=!0,n[i.dollar]=!0,n[i.caret]=!0,n[i.slash]=!0,n),a={},u="0123456789abcdefABCDEF",c=0;c<u.length;c++)a[u.charCodeAt(c)]=!0;function l(e,t){var r,n=t;do{if(r=e.charCodeAt(n),o[r])return n-1;r===i.backslash?n=h(e,n)+1:n++}while(n<e.length);return n-1}function h(e,t){var r=t,n=e.charCodeAt(r+1);if(s[n]);else if(a[n]){var o=0;do{r++,o++,n=e.charCodeAt(r+1)}while(a[n]&&o<6);o<6&&n===i.space&&r++}else r++;return r}t.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}})),$=h((function(e,t){t.__esModule=!0,t.default=void 0;var r,n,i=M(f),s=M(p),o=M(E),a=M(T),c=M(x),l=M(D),h=M(A),d=M(F),v=M(N),_=M(C),b=L(q),S=M(U),w=M(Y),m=M(B),k=M(Q),O=L(W),P=L(G),I=L(y);function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R=((r={})[P.space]=!0,r[P.cr]=!0,r[P.feed]=!0,r[P.newline]=!0,r[P.tab]=!0,r),$=u({},R,((n={})[P.comment]=!0,n));function V(e){return{line:e[O.FIELDS.START_LINE],column:e[O.FIELDS.START_COL]}}function K(e){return{line:e[O.FIELDS.END_LINE],column:e[O.FIELDS.END_COL]}}function H(e,t,r,n){return{start:{line:e,column:t},end:{line:r,column:n}}}function z(e){return H(e[O.FIELDS.START_LINE],e[O.FIELDS.START_COL],e[O.FIELDS.END_LINE],e[O.FIELDS.END_COL])}function J(e,t){if(e)return H(e[O.FIELDS.START_LINE],e[O.FIELDS.START_COL],t[O.FIELDS.END_LINE],t[O.FIELDS.END_COL])}function X(e,t){var r=e[t];if("string"==typeof r)return-1!==r.indexOf("\\")&&((0,g.ensureObject)(e,"raws"),e[t]=(0,g.unesc)(r),void 0===e.raws[t]&&(e.raws[t]=r)),e}var Z=function(){function e(e,t){void 0===t&&(t={}),this.rule=e,this.options=u({lossy:!1,safe:!1},t),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,O.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var r=J(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new o.default({source:r}),this.root.errorGenerator=this._errorGenerator();var n=new a.default({source:{start:{line:1,column:1}}});this.root.append(n),this.current=n,this.loop()}var t,r,n,f=e.prototype;return f._errorGenerator=function(){var e=this;return function(t,r){return"string"==typeof e.rule?new Error(t):e.rule.error(t,r)}},f.attribute=function(){var e=[],t=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[O.FIELDS.TYPE]!==P.closeSquare;)e.push(this.currToken),this.position++;if(this.currToken[O.FIELDS.TYPE]!==P.closeSquare)return this.expected("closing square bracket",this.currToken[O.FIELDS.START_POS]);var r=e.length,n={source:H(t[1],t[2],this.currToken[3],this.currToken[4]),sourceIndex:t[O.FIELDS.START_POS]};if(1===r&&!~[P.word].indexOf(e[0][O.FIELDS.TYPE]))return this.expected("attribute",e[0][O.FIELDS.START_POS]);for(var i=0,s="",o="",a=null,u=!1;i<r;){var c=e[i],l=this.content(c),h=e[i+1];switch(c[O.FIELDS.TYPE]){case P.space:if(u=!0,this.options.lossy)break;if(a){(0,g.ensureObject)(n,"spaces",a);var f=n.spaces[a].after||"";n.spaces[a].after=f+l;var p=(0,g.getProp)(n,"raws","spaces",a,"after")||null;p&&(n.raws.spaces[a].after=p+l)}else s+=l,o+=l;break;case P.asterisk:if(h[O.FIELDS.TYPE]===P.equals)n.operator=l,a="operator";else if((!n.namespace||"namespace"===a&&!u)&&h){s&&((0,g.ensureObject)(n,"spaces","attribute"),n.spaces.attribute.before=s,s=""),o&&((0,g.ensureObject)(n,"raws","spaces","attribute"),n.raws.spaces.attribute.before=s,o=""),n.namespace=(n.namespace||"")+l,((0,g.getProp)(n,"raws","namespace")||null)&&(n.raws.namespace+=l),a="namespace"}u=!1;break;case P.dollar:if("value"===a){var d=(0,g.getProp)(n,"raws","value");n.value+="$",d&&(n.raws.value=d+"$");break}case P.caret:h[O.FIELDS.TYPE]===P.equals&&(n.operator=l,a="operator"),u=!1;break;case P.combinator:if("~"===l&&h[O.FIELDS.TYPE]===P.equals&&(n.operator=l,a="operator"),"|"!==l){u=!1;break}h[O.FIELDS.TYPE]===P.equals?(n.operator=l,a="operator"):n.namespace||n.attribute||(n.namespace=!0),u=!1;break;case P.word:if(h&&"|"===this.content(h)&&e[i+2]&&e[i+2][O.FIELDS.TYPE]!==P.equals&&!n.operator&&!n.namespace)n.namespace=l,a="namespace";else if(!n.attribute||"attribute"===a&&!u){s&&((0,g.ensureObject)(n,"spaces","attribute"),n.spaces.attribute.before=s,s=""),o&&((0,g.ensureObject)(n,"raws","spaces","attribute"),n.raws.spaces.attribute.before=o,o=""),n.attribute=(n.attribute||"")+l,((0,g.getProp)(n,"raws","attribute")||null)&&(n.raws.attribute+=l),a="attribute"}else if(!n.value&&""!==n.value||"value"===a&&!u){var v=(0,g.unesc)(l),_=(0,g.getProp)(n,"raws","value")||"",S=n.value||"";n.value=S+v,n.quoteMark=null,(v!==l||_)&&((0,g.ensureObject)(n,"raws"),n.raws.value=(_||S)+l),a="value"}else{var y="i"===l||"I"===l;!n.value&&""!==n.value||!n.quoteMark&&!u?(n.value||""===n.value)&&(a="value",n.value+=l,n.raws.value&&(n.raws.value+=l)):(n.insensitive=y,y&&"I"!==l||((0,g.ensureObject)(n,"raws"),n.raws.insensitiveFlag=l),a="insensitive",s&&((0,g.ensureObject)(n,"spaces","insensitive"),n.spaces.insensitive.before=s,s=""),o&&((0,g.ensureObject)(n,"raws","spaces","insensitive"),n.raws.spaces.insensitive.before=o,o=""))}u=!1;break;case P.str:if(!n.attribute||!n.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:c[O.FIELDS.START_POS]});var w=(0,b.unescapeValue)(l),E=w.unescaped,T=w.quoteMark;n.value=E,n.quoteMark=T,a="value",(0,g.ensureObject)(n,"raws"),n.raws.value=l,u=!1;break;case P.equals:if(!n.attribute)return this.expected("attribute",c[O.FIELDS.START_POS],l);if(n.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:c[O.FIELDS.START_POS]});n.operator=n.operator?n.operator+l:l,a="operator",u=!1;break;case P.comment:if(a)if(u||h&&h[O.FIELDS.TYPE]===P.space||"insensitive"===a){var m=(0,g.getProp)(n,"spaces",a,"after")||"",k=(0,g.getProp)(n,"raws","spaces",a,"after")||m;(0,g.ensureObject)(n,"raws","spaces",a),n.raws.spaces[a].after=k+l}else{var I=n[a]||"",L=(0,g.getProp)(n,"raws",a)||I;(0,g.ensureObject)(n,"raws"),n.raws[a]=L+l}else o+=l;break;default:return this.error('Unexpected "'+l+'" found.',{index:c[O.FIELDS.START_POS]})}i++}X(n,"attribute"),X(n,"namespace"),this.newNode(new b.default(n)),this.position++},f.parseWhitespaceEquivalentTokens=function(e){e<0&&(e=this.tokens.length);var t=this.position,r=[],n="",i=void 0;do{if(R[this.currToken[O.FIELDS.TYPE]])this.options.lossy||(n+=this.content());else if(this.currToken[O.FIELDS.TYPE]===P.comment){var s={};n&&(s.before=n,n=""),i=new l.default({value:this.content(),source:z(this.currToken),sourceIndex:this.currToken[O.FIELDS.START_POS],spaces:s}),r.push(i)}}while(++this.position<e);if(n)if(i)i.spaces.after=n;else if(!this.options.lossy){var o=this.tokens[t],a=this.tokens[this.position-1];r.push(new v.default({value:"",source:H(o[O.FIELDS.START_LINE],o[O.FIELDS.START_COL],a[O.FIELDS.END_LINE],a[O.FIELDS.END_COL]),sourceIndex:o[O.FIELDS.START_POS],spaces:{before:n,after:""}}))}return r},f.convertWhitespaceNodesToSpace=function(e,t){var r=this;void 0===t&&(t=!1);var n="",i="";return e.forEach((function(e){var s=r.lossySpace(e.spaces.before,t),o=r.lossySpace(e.rawSpaceBefore,t);n+=s+r.lossySpace(e.spaces.after,t&&0===s.length),i+=s+e.value+r.lossySpace(e.rawSpaceAfter,t&&0===o.length)})),i===n&&(i=void 0),{space:n,rawSpace:i}},f.isNamedCombinator=function(e){return void 0===e&&(e=this.position),this.tokens[e+0]&&this.tokens[e+0][O.FIELDS.TYPE]===P.slash&&this.tokens[e+1]&&this.tokens[e+1][O.FIELDS.TYPE]===P.word&&this.tokens[e+2]&&this.tokens[e+2][O.FIELDS.TYPE]===P.slash},f.namedCombinator=function(){if(this.isNamedCombinator()){var e=this.content(this.tokens[this.position+1]),t=(0,g.unesc)(e).toLowerCase(),r={};t!==e&&(r.value="/"+e+"/");var n=new w.default({value:"/"+t+"/",source:H(this.currToken[O.FIELDS.START_LINE],this.currToken[O.FIELDS.START_COL],this.tokens[this.position+2][O.FIELDS.END_LINE],this.tokens[this.position+2][O.FIELDS.END_COL]),sourceIndex:this.currToken[O.FIELDS.START_POS],raws:r});return this.position=this.position+3,n}this.unexpected()},f.combinator=function(){var e=this;if("|"===this.content())return this.namespace();var t=this.locateNextMeaningfulToken(this.position);if(!(t<0||this.tokens[t][O.FIELDS.TYPE]===P.comma)){var r,n=this.currToken,i=void 0;if(t>this.position&&(i=this.parseWhitespaceEquivalentTokens(t)),this.isNamedCombinator()?r=this.namedCombinator():this.currToken[O.FIELDS.TYPE]===P.combinator?(r=new w.default({value:this.content(),source:z(this.currToken),sourceIndex:this.currToken[O.FIELDS.START_POS]}),this.position++):R[this.currToken[O.FIELDS.TYPE]]||i||this.unexpected(),r){if(i){var s=this.convertWhitespaceNodesToSpace(i),o=s.space,a=s.rawSpace;r.spaces.before=o,r.rawSpaceBefore=a}}else{var u=this.convertWhitespaceNodesToSpace(i,!0),c=u.space,l=u.rawSpace;l||(l=c);var h={},f={spaces:{}};c.endsWith(" ")&&l.endsWith(" ")?(h.before=c.slice(0,c.length-1),f.spaces.before=l.slice(0,l.length-1)):c.startsWith(" ")&&l.startsWith(" ")?(h.after=c.slice(1),f.spaces.after=l.slice(1)):f.value=l,r=new w.default({value:" ",source:J(n,this.tokens[this.position-1]),sourceIndex:n[O.FIELDS.START_POS],spaces:h,raws:f})}return this.currToken&&this.currToken[O.FIELDS.TYPE]===P.space&&(r.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(r)}var p=this.parseWhitespaceEquivalentTokens(t);if(p.length>0){var d=this.current.last;if(d){var v=this.convertWhitespaceNodesToSpace(p),_=v.space,b=v.rawSpace;void 0!==b&&(d.rawSpaceAfter+=b),d.spaces.after+=_}else p.forEach((function(t){return e.newNode(t)}))}},f.comma=function(){if(this.position===this.tokens.length-1)return this.root.trailingComma=!0,void this.position++;this.current._inferEndPosition();var e=new a.default({source:{start:V(this.tokens[this.position+1])}});this.current.parent.append(e),this.current=e,this.position++},f.comment=function(){var e=this.currToken;this.newNode(new l.default({value:this.content(),source:z(e),sourceIndex:e[O.FIELDS.START_POS]})),this.position++},f.error=function(e,t){throw this.root.error(e,t)},f.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[O.FIELDS.START_POS]})},f.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[O.FIELDS.START_POS])},f.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[O.FIELDS.START_POS])},f.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[O.FIELDS.START_POS])},f.namespace=function(){var e=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[O.FIELDS.TYPE]===P.word?(this.position++,this.word(e)):this.nextToken[O.FIELDS.TYPE]===P.asterisk?(this.position++,this.universal(e)):void 0},f.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var e=this.currToken;this.newNode(new m.default({value:this.content(),source:z(e),sourceIndex:e[O.FIELDS.START_POS]})),this.position++},f.parentheses=function(){var e=this.current.last,t=1;if(this.position++,e&&e.type===I.PSEUDO){var r=new a.default({source:{start:V(this.tokens[this.position-1])}}),n=this.current;for(e.append(r),this.current=r;this.position<this.tokens.length&&t;)this.currToken[O.FIELDS.TYPE]===P.openParenthesis&&t++,this.currToken[O.FIELDS.TYPE]===P.closeParenthesis&&t--,t?this.parse():(this.current.source.end=K(this.currToken),this.current.parent.source.end=K(this.currToken),this.position++);this.current=n}else{for(var i,s=this.currToken,o="(";this.position<this.tokens.length&&t;)this.currToken[O.FIELDS.TYPE]===P.openParenthesis&&t++,this.currToken[O.FIELDS.TYPE]===P.closeParenthesis&&t--,i=this.currToken,o+=this.parseParenthesisToken(this.currToken),this.position++;e?e.appendToPropertyAndEscape("value",o,o):this.newNode(new v.default({value:o,source:H(s[O.FIELDS.START_LINE],s[O.FIELDS.START_COL],i[O.FIELDS.END_LINE],i[O.FIELDS.END_COL]),sourceIndex:s[O.FIELDS.START_POS]}))}if(t)return this.expected("closing parenthesis",this.currToken[O.FIELDS.START_POS])},f.pseudo=function(){for(var e=this,t="",r=this.currToken;this.currToken&&this.currToken[O.FIELDS.TYPE]===P.colon;)t+=this.content(),this.position++;return this.currToken?this.currToken[O.FIELDS.TYPE]!==P.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[O.FIELDS.START_POS]):void this.splitWord(!1,(function(n,i){t+=n,e.newNode(new _.default({value:t,source:J(r,e.currToken),sourceIndex:r[O.FIELDS.START_POS]})),i>1&&e.nextToken&&e.nextToken[O.FIELDS.TYPE]===P.openParenthesis&&e.error("Misplaced parenthesis.",{index:e.nextToken[O.FIELDS.START_POS]})})):this.expected(["pseudo-class","pseudo-element"],this.position-1)},f.space=function(){var e=this.content();0===this.position||this.prevToken[O.FIELDS.TYPE]===P.comma||this.prevToken[O.FIELDS.TYPE]===P.openParenthesis||this.current.nodes.every((function(e){return"comment"===e.type}))?(this.spaces=this.optionalSpace(e),this.position++):this.position===this.tokens.length-1||this.nextToken[O.FIELDS.TYPE]===P.comma||this.nextToken[O.FIELDS.TYPE]===P.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(e),this.position++):this.combinator()},f.string=function(){var e=this.currToken;this.newNode(new v.default({value:this.content(),source:z(e),sourceIndex:e[O.FIELDS.START_POS]})),this.position++},f.universal=function(e){var t=this.nextToken;if(t&&"|"===this.content(t))return this.position++,this.namespace();var r=this.currToken;this.newNode(new S.default({value:this.content(),source:z(r),sourceIndex:r[O.FIELDS.START_POS]}),e),this.position++},f.splitWord=function(e,t){for(var r=this,n=this.nextToken,o=this.content();n&&~[P.dollar,P.caret,P.equals,P.word].indexOf(n[O.FIELDS.TYPE]);){this.position++;var a=this.content();if(o+=a,a.lastIndexOf("\\")===a.length-1){var u=this.nextToken;u&&u[O.FIELDS.TYPE]===P.space&&(o+=this.requiredSpace(this.content(u)),this.position++)}n=this.nextToken}var l=(0,i.default)(o,".").filter((function(e){return"\\"!==o[e-1]})),f=(0,i.default)(o,"#").filter((function(e){return"\\"!==o[e-1]})),p=(0,i.default)(o,"#{");p.length&&(f=f.filter((function(e){return!~p.indexOf(e)})));var v=(0,k.default)((0,s.default)([0].concat(l,f)));v.forEach((function(n,i){var s,a=v[i+1]||o.length,u=o.slice(n,a);if(0===i&&t)return t.call(r,u,v.length);var p=r.currToken,_=p[O.FIELDS.START_POS]+v[i],b=H(p[1],p[2]+n,p[3],p[2]+(a-1));if(~l.indexOf(n)){var g={value:u.slice(1),source:b,sourceIndex:_};s=new c.default(X(g,"value"))}else if(~f.indexOf(n)){var S={value:u.slice(1),source:b,sourceIndex:_};s=new h.default(X(S,"value"))}else{var y={value:u,source:b,sourceIndex:_};X(y,"value"),s=new d.default(y)}r.newNode(s,e),e=null})),this.position++},f.word=function(e){var t=this.nextToken;return t&&"|"===this.content(t)?(this.position++,this.namespace()):this.splitWord(e)},f.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},f.parse=function(e){switch(this.currToken[O.FIELDS.TYPE]){case P.space:this.space();break;case P.comment:this.comment();break;case P.openParenthesis:this.parentheses();break;case P.closeParenthesis:e&&this.missingParenthesis();break;case P.openSquare:this.attribute();break;case P.dollar:case P.caret:case P.equals:case P.word:this.word();break;case P.colon:this.pseudo();break;case P.comma:this.comma();break;case P.asterisk:this.universal();break;case P.ampersand:this.nesting();break;case P.slash:case P.combinator:this.combinator();break;case P.str:this.string();break;case P.closeSquare:this.missingSquareBracket();case P.semicolon:this.missingBackslash();default:this.unexpected()}},f.expected=function(e,t,r){if(Array.isArray(e)){var n=e.pop();e=e.join(", ")+" or "+n}var i=/^[aeiou]/.test(e[0])?"an":"a";return r?this.error("Expected "+i+" "+e+', found "'+r+'" instead.',{index:t}):this.error("Expected "+i+" "+e+".",{index:t})},f.requiredSpace=function(e){return this.options.lossy?" ":e},f.optionalSpace=function(e){return this.options.lossy?"":e},f.lossySpace=function(e,t){return this.options.lossy?t?" ":"":e},f.parseParenthesisToken=function(e){var t=this.content(e);return e[O.FIELDS.TYPE]===P.space?this.requiredSpace(t):t},f.newNode=function(e,t){return t&&(/^ +$/.test(t)&&(this.options.lossy||(this.spaces=(this.spaces||"")+t),t=!0),e.namespace=t,X(e,"namespace")),this.spaces&&(e.spaces.before=this.spaces,this.spaces=""),this.current.append(e)},f.content=function(e){return void 0===e&&(e=this.currToken),this.css.slice(e[O.FIELDS.START_POS],e[O.FIELDS.END_POS])},f.locateNextMeaningfulToken=function(e){void 0===e&&(e=this.position+1);for(var t=e;t<this.tokens.length;){if(!$[this.tokens[t][O.FIELDS.TYPE]])return t;t++}return-1},t=e,(r=[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}])&&j(t.prototype,r),n&&j(t,n),e}();t.default=Z,e.exports=t.default})),V=h((function(e,t){t.__esModule=!0,t.default=void 0;var r,n=(r=$)&&r.__esModule?r:{default:r};var i=function(){function e(e,t){this.func=e||function(){},this.funcRes=null,this.options=t}var t=e.prototype;return t._shouldUpdateSelector=function(e,t){return void 0===t&&(t={}),!1!==u({},this.options,t).updateSelector&&"string"!=typeof e},t._isLossy=function(e){return void 0===e&&(e={}),!1===u({},this.options,e).lossless},t._root=function(e,t){return void 0===t&&(t={}),new n.default(e,this._parseOptions(t)).root},t._parseOptions=function(e){return{lossy:this._isLossy(e)}},t._run=function(e,t){var r=this;return void 0===t&&(t={}),new Promise((function(n,i){try{var s=r._root(e,t);Promise.resolve(r.func(s)).then((function(n){var i=void 0;return r._shouldUpdateSelector(e,t)&&(i=s.toString(),e.selector=i),{transform:n,root:s,string:i}})).then(n,i)}catch(e){return void i(e)}}))},t._runSync=function(e,t){void 0===t&&(t={});var r=this._root(e,t),n=this.func(r);if(n&&"function"==typeof n.then)throw new Error("Selector processor returned a promise to a synchronous call.");var i=void 0;return t.updateSelector&&"string"!=typeof e&&(i=r.toString(),e.selector=i),{transform:n,root:r,string:i}},t.ast=function(e,t){return this._run(e,t).then((function(e){return e.root}))},t.astSync=function(e,t){return this._runSync(e,t).root},t.transform=function(e,t){return this._run(e,t).then((function(e){return e.transform}))},t.transformSync=function(e,t){return this._runSync(e,t).transform},t.process=function(e,t){return this._run(e,t).then((function(e){return e.string||e.root.toString()}))},t.processSync=function(e,t){var r=this._runSync(e,t);return r.string||r.root.toString()},e}();t.default=i,e.exports=t.default})),K=h((function(e,t){t.__esModule=!0,t.universal=t.tag=t.string=t.selector=t.root=t.pseudo=t.nesting=t.id=t.comment=t.combinator=t.className=t.attribute=void 0;var r=d(q),n=d(x),i=d(Y),s=d(D),o=d(A),a=d(B),u=d(C),c=d(E),l=d(T),h=d(N),f=d(F),p=d(U);function d(e){return e&&e.__esModule?e:{default:e}}t.attribute=function(e){return new r.default(e)};t.className=function(e){return new n.default(e)};t.combinator=function(e){return new i.default(e)};t.comment=function(e){return new s.default(e)};t.id=function(e){return new o.default(e)};t.nesting=function(e){return new a.default(e)};t.pseudo=function(e){return new u.default(e)};t.root=function(e){return new c.default(e)};t.selector=function(e){return new l.default(e)};t.string=function(e){return new h.default(e)};t.tag=function(e){return new f.default(e)};t.universal=function(e){return new p.default(e)}})),H=h((function(e,t){var r;t.__esModule=!0,t.isNode=i,t.isPseudoElement=g,t.isPseudoClass=function(e){return f(e)&&!g(e)},t.isContainer=function(e){return!(!i(e)||!e.walk)},t.isNamespace=function(e){return o(e)||_(e)},t.isUniversal=t.isTag=t.isString=t.isSelector=t.isRoot=t.isPseudo=t.isNesting=t.isIdentifier=t.isComment=t.isCombinator=t.isClassName=t.isAttribute=void 0;var n=((r={})[y.ATTRIBUTE]=!0,r[y.CLASS]=!0,r[y.COMBINATOR]=!0,r[y.COMMENT]=!0,r[y.ID]=!0,r[y.NESTING]=!0,r[y.PSEUDO]=!0,r[y.ROOT]=!0,r[y.SELECTOR]=!0,r[y.STRING]=!0,r[y.TAG]=!0,r[y.UNIVERSAL]=!0,r);function i(e){return"object"==typeof e&&n[e.type]}function s(e,t){return i(t)&&t.type===e}var o=s.bind(null,y.ATTRIBUTE);t.isAttribute=o;var a=s.bind(null,y.CLASS);t.isClassName=a;var u=s.bind(null,y.COMBINATOR);t.isCombinator=u;var c=s.bind(null,y.COMMENT);t.isComment=c;var l=s.bind(null,y.ID);t.isIdentifier=l;var h=s.bind(null,y.NESTING);t.isNesting=h;var f=s.bind(null,y.PSEUDO);t.isPseudo=f;var p=s.bind(null,y.ROOT);t.isRoot=p;var d=s.bind(null,y.SELECTOR);t.isSelector=d;var v=s.bind(null,y.STRING);t.isString=v;var _=s.bind(null,y.TAG);t.isTag=_;var b=s.bind(null,y.UNIVERSAL);function g(e){return f(e)&&e.value&&(e.value.startsWith("::")||":before"===e.value.toLowerCase()||":after"===e.value.toLowerCase())}t.isUniversal=b})),z=h((function(e,t){t.__esModule=!0,Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=y[e])})),Object.keys(K).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=K[e])})),Object.keys(H).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=H[e])}))})),J=l(h((function(e,t){t.__esModule=!0,t.default=void 0;var r,n=(r=V)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(z);var s=function(e){return new n.default(e)};u(s,i),delete s.__esModule;var o=s;t.default=o,e.exports=t.default}))),X=Element.prototype.matches||Element.prototype.msMatchesSelector;var Z=function(e){this._queue=[e],this.next()};function ee(e){for(var t=[],r=e.length-1;r>=0;r--){var n=e[r];if("combinator"===n.type)break;t.push(n)}return t.reverse()}function te(e){if("function"!=typeof e.assignedElements&&e.assignedSlot&&e.assignedSlot.parentElement)return e.assignedSlot.parentElement;if(e.parentElement)return e.parentElement;var t=e.getRootNode();return t!==document?t.host:void 0}function re(e,t){for(var r=te(e);r;){if(ie(r,{nodes:t}))return r;r=te(r)}}function ne(e,t){for(var r=e.previousElementSibling;r;){if(ie(r,{nodes:t}))return r;r=r.previousElementSibling}}function ie(e,t){for(var r=t.nodes,n=r.length-1;n>=0;n--){var i=r[n];if("id"===i.type){if(e.id!==i.value)return!1}else if("class"===i.type){if(!e.classList.contains(i.value))return!1}else if("tag"===i.type){if(e.tagName.toLowerCase()!==i.value.toLowerCase())return!1}else if("pseudo"===i.type||"attribute"===i.type){if(!X.call(e,i.sourceCode))return!1}else if("combinator"===i.type)if(" "===i.value){var s=ee(r.slice(0,n)),o=re(e,s);if(!o)return!1;e=o,n-=s.length}else if(">"===i.value){var a=ee(r.slice(0,n)),u=te(e);if(!u||!ie(u,{nodes:a}))return!1;e=u,n-=1}else if("+"===i.value){var c=ee(r.slice(0,n)),l=e.previousElementSibling;if(!l||!ie(l,{nodes:c}))return!1;n-=c.length}else if("~"===i.value){var h=ee(r.slice(0,n));if(!ne(e,h))return!1;n-=h.length}}return!0}function se(e,t){for(var r=0,n=e.nodes;r<n.length;r+=1){var i=n[r];if("pseudo"===i.type||"attribute"===i.type){for(var s=t.split("\n"),o=i.source,a=o.start,u=o.end,c="",l=a.line-1;l<u.line;l++){var h=s[l],f=l===a.line-1?a.column:0,p=l===u.line-1?u.column:h.length;c+=h.substring(f,p)}i.sourceCode=("pseudo"===i.type?":":"[")+c}i.nodes&&se(i,t)}}function oe(e){var t=J().astSync(e);return se(t,e),t}function ae(e,t,r){var n=oe(e);return function(e,t,r){for(var n,i=r?[]:null;n=e.next();)for(var s=0,o=t.nodes;s<o.length;s+=1)if(ie(n,o[s])){if(!r)return n;i.push(n)}return i}(new Z(t),n,r)}Z.prototype.next=function(){var e=this._queue.pop();if(e){var t=function(e){if(e.documentElement)return[e.documentElement];if(e.shadowRoot)return e.shadowRoot.children;if("function"==typeof e.assignedElements){var t=e.assignedElements();return t.length?t:e.children}return e.children}(e);if(t)for(var r=t.length-1;r>=0;r--)this._queue.push(t[r])}return e};function ue(e){this._show=this.show.bind(this),this._hide=this.hide.bind(this),this._maintainFocus=this._maintainFocus.bind(this),this._bindKeypress=this._bindKeypress.bind(this),this.$el=e,this.shown=!1,this._id=this.$el.getAttribute("data-a11y-dialog")||this.$el.id,this._previouslyFocused=null,this._listeners={},this.create()}function ce(e,t){return r=function(e,t){return void 0===t&&(t=document),ae(e,t,!0)}(e,t||document),Array.prototype.slice.call(r);var r}function le(e){(e.querySelector("[autofocus]")||e).focus()}function he(){ce("[data-a11y-dialog]").forEach((function(e){new ue(e)}))}ue.prototype.create=function(){return this.$el.setAttribute("aria-hidden",!0),this.$el.setAttribute("aria-modal",!0),this.$el.setAttribute("tabindex",-1),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),this._openers=ce('[data-a11y-dialog-show="'+this._id+'"]'),this._openers.forEach(function(e){e.addEventListener("click",this._show)}.bind(this)),this._closers=ce("[data-a11y-dialog-hide]",this.$el).concat(ce('[data-a11y-dialog-hide="'+this._id+'"]')),this._closers.forEach(function(e){e.addEventListener("click",this._hide)}.bind(this)),this._fire("create"),this},ue.prototype.show=function(e){return this.shown||(this._previouslyFocused=document.activeElement,this.$el.removeAttribute("aria-hidden"),this.shown=!0,le(this.$el),document.body.addEventListener("focus",this._maintainFocus,!0),document.addEventListener("keydown",this._bindKeypress),this._fire("show",e)),this},ue.prototype.hide=function(e){return this.shown?(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),this._previouslyFocused&&this._previouslyFocused.focus&&this._previouslyFocused.focus(),document.body.removeEventListener("focus",this._maintainFocus,!0),document.removeEventListener("keydown",this._bindKeypress),this._fire("hide",e),this):this},ue.prototype.destroy=function(){return this.hide(),this._openers.forEach(function(e){e.removeEventListener("click",this._show)}.bind(this)),this._closers.forEach(function(e){e.removeEventListener("click",this._hide)}.bind(this)),this._fire("destroy"),this._listeners={},this},ue.prototype.on=function(e,t){return void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t),this},ue.prototype.off=function(e,t){var r=(this._listeners[e]||[]).indexOf(t);return r>-1&&this._listeners[e].splice(r,1),this},ue.prototype._fire=function(e,t){var r=this._listeners[e]||[],n=new CustomEvent(e,{detail:t});this.$el.dispatchEvent(n),r.forEach(function(e){e(this.$el,t)}.bind(this))},ue.prototype._bindKeypress=function(e){this.$el.contains(document.activeElement)&&(this.shown&&27===e.which&&"alertdialog"!==this.$el.getAttribute("role")&&(e.preventDefault(),this.hide(e)),this.shown&&9===e.which&&function(e,t){var r=function(e){return ce(n.join(","),e).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}(e),i=document.activeElement;i.shadowRoot&&(i=i.shadowRoot.activeElement);var s=r.indexOf(i);t.shiftKey&&0===s?(r[r.length-1].focus(),t.preventDefault()):t.shiftKey||s!==r.length-1||(r[0].focus(),t.preventDefault())}(this.$el,e))},ue.prototype._maintainFocus=function(e){!this.shown||e.target.closest('[aria-modal="true"]')||e.target.closest("[data-a11y-dialog-ignore-focus-trap]")||le(this.$el)},"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",he):window.requestAnimationFrame?window.requestAnimationFrame(he):window.setTimeout(he,16));export{ue as default};
